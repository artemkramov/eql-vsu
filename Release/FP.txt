Формат файла для ФП.

Текстовый файл интерпретируется следующим образом.
Если к моменту начала интерпретации в ФП имеется открытый чек - он отменяется.
Если в результате интерпретации файла получается чек, который не может быть
закрыт - он отменяется. При этом последняя строка помечаются ошибкой,
которая пришла при закрытии чека.
Если чек не может быть открыт в текущем состоянии ФП, первая строка файла
помечается ошибкой открытия чека.
Чеки могут быть двух видов:
	1. продажи, скидки, оплаты
	2. внос-вынос денег.
В чеках, где производится продажи невозможно осуществить служебное внесение
или изъятие денег и наоборот.
В чеках, где производится продажи имеются две части
	- часть продажи, где можно производить продажи и скидки,
        - часть оплаты, где производится оплата чека.
Комментарии могут распологатся в любом месте чека, даже после полной расплаты
по чеку.

=======
Продажа
=======
S,<Е>,<Служ>;<Параметры>

Параметры
=========
<Код>;<Имя>;<Цена>;<Кол.>;<Отд>;<Груп>;<Нал>;<Весовой>;<Св.цена>;
<Код>     - код товара (<=13 цифр)
<Имя>     - название   (<=12 символов)
<Цена>    - цена       (<=9999999.99)
<Кол.>    - количество товара (<=9999999.99)
<Отд>     - отдел
<Груп>    - группа
<Нал>     - налог
<Весовой> - признак весового товара (0 - нет, 1 - да)
<Св.цена> - признак продажи по свободной цене (0 - нет, 1 - да)

Осуществляется продажа по коду,
если кода нет - он программируется на основании последующей информации.
если для кода выставлен признак <Св.цена> - код продается по указанной цене.
Изменение признака <Св.цена> для данного кода товара на протяжении одной
контрольной ленты приведет к невозможности продажи товара.


===========
Комментарий
===========

P,<Е>,<Служ>;<Параметры>

Параметры
=========

<Комментарий>;

<Комментарий> - текст (<=16 символов)

======
Оплата
======

Т,<Е>,<Служ>;<Параметры>

Параметры
=========
<Код>;<Сумма>;<Код клиента>;
<Код>         - пусто или 1 - наличные;
		2 - чек;
                3 - кредит
<Сумма>       - пусто - на всю сумму чека
		или (<=99999999999.99) 
<Код клиента> - пусто
		или код клиента

======
Скидки
======
D,<Е>,<Служ>;<Параметры>;

Параметры
=========
<Тип>;<Величина>;
<Тип скидки> - тип скидки
		0 - Суммовая скидка на товар
                1 - Суммовая наценка на товар
                2 - Процентная скидка на товар
                3 - Процентная наценка на товар
                4 - Суммовая скидка на ПРОМ
                5 - Суммовая наценка на ПРОМ
                6 - Процентная скидка на ПРОМ
                7 - Процентная наценка на ПРОМ
<Величина>   - сумма скидки (<=99999999999.99) или процент скидки (<100.00)

================
Внос/вынос денег
================
I,<Е>,<Служ>;<Параметры>;

Параметры
=========
<Тип оплаты>;<Сумма>;
<Тип оплаты> - 	1 - наличные;
		2 - чек;
                3 - кредит
<Сумма>      - +/-(<=99999999999.99)


Ошибки
======
D0 не удалось связатся с кассой
D1 неизвестный тип команды в файле
D2 синтаксическая ошибка разбора строки
__ Необработанная запись
Ok Команда выполнена успешно.


FF переполнение ленты
FA недопустимый номер кассира
F7 не найден чек для копии
F6 переполнение Z1
F5 переполнение чека
F4 отрицательная сумма по чеку
F3 отрицательная сумма по Z1
F2 переполнение поля записи
F1 вид оплаты запрещен или не существует
F0 в чеке уже были продажи товаров
EF начат внос/вынос денег
ED плохая цена
EC цена не может меняться
EB плохое количество
EA дробное количество
E9 переполнение суммы в long
E8 Цена*Количество = 0
E7 плохой отдел
E6 отдел не может меняться
E5 плохая группа
E4 группа не может меняться
E3 товар закончился по количеству
E2 начата расплата по чеку
E1 недопустимая сумма оплаты
E0 недопустимый код клиента
DF недопустимая сумма оплаты
DE наценка запрещена
DD не было ни одной продажи
DC плохой процент
DB отрицательная сумма по товару
D6 не обнулен Z1 отчет
D3 переход через дату или конец смены
D5 не указана нац/скидка по умолчанию
D4 не указан % скидки по умолчанию
F8 не закончена оплата чека



